<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03-password.html</title>
    <style>
        .blue {
            color: blue;
        }
        .red {
            color: red;
        }
        #messageBox {
            font-weight: bold;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <h1>03-password.html</h1>
    <hr>

    <form>
        <p><input type="text" name="id" id="id" placeholder="아이디"></p>
        <p><input type="password" name="pw1" id="pw1" placeholder="비밀번호"></p>
        <p><input type="password" name="pw2" id="pw2" placeholder="비밀번호 재확인"></p>
        <p id="messageBox"></p>
        <p><button id="submit" disabled="disabled">가입신청</button></p>
    </form>

    <script>
        const pw1 = document.getElementById('pw1')
        const pw2 = document.getElementById('pw2')
        const messageBox = document.getElementById('messageBox')
        const submit = document.getElementById('submit')

        // 자바스크립트는 함수도 변수에 저장해둘 수 있다
        const validate = function() {
            const flag = (pw1.value == pw2.value) && pw1.value.length != 0

            messageBox.innerText = flag ? '일치' : '불일치'
            messageBox.className = flag ? 'blue' : 'red'
            if(flag) {
                // element.removeAttribut('속성이름')
                submit.removeAttribute('disabled')
            }
            else {
                // element.setAttribute('속성이름', '속성값')
                submit.setAttribute('disabled', 'disabled')
            }
            // messageBox.style.color = flag ? 'blue' : 'red'           // 이걸 사용할 경우에는 style을 따로 쓸 필요가 없음
        }
        pw1.onkeyup = validate      // 변수에 저장된 함수를 연결한다
        pw2.onkeyup = validate      // 같은 함수를 서로 다른 요소의 이벤트에 연결한다
    </script>
</body>
</html>